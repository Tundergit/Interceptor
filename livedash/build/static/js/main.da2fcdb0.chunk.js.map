{"version":3,"sources":["Graphs/ScatterPlot.js","helpers/available_signals.js","Graphs/AddLines.js","Graphs/AddGraph.js","Graphs/GraphSettings.js","Graphs/GraphDashboard.js","Joystick/Joystick.js","TabPanel.js","helpers/WebSocketHelper.js","MainSettings.js","App.js","index.js"],"names":["Plot","createPlotlyComponent","Plotly","ScatterPlot","props","state","data","layout","xaxis","autorange","yaxis","type","showlegend","legend","x","y","width","height","margin","l","r","b","t","pad","datarevision","frames","config","displayModeBar","displaylogo","revision","responsiveChartRef","React","createRef","el_width","this","current","getBoundingClientRect","el_height","setState","resizeListener","window","addEventListener","removeEventListener","ref","style","Object","values","lines","event","Component","available_signals","AddLines","selected","renderButtons","result","entries","forEach","key","value","filtered_array","v_key","push","ToggleButton","textTransform","borderRadius","minWidth","maxHeight","aria-label","Accordion","AccordionSummary","expandIcon","aria-controls","id","Typography","variant","AccordionDetails","justifyContent","ToggleButtonGroup","orientation","onChange","signals","render_revision","nextProps","nextState","show","prev_selection","Dialog","open","aria-labelledby","DialogContent","DialogActions","Button","onClick","setLogParams","color","AddGraph","plotname","lines_available","map","DialogTitle","Grid","container","spacing","direction","alignItems","item","FormControl","InputLabel","htmlFor","Input","target","aria-describedby","inputProps","FormHelperText","addplot","GraphSettings","cols","rateHz","max_datapoints","webgl","Math","min","max","parseInt","endAdornment","InputAdornment","position","FormControlLabel","control","Switch","checked","name","label","setSettings","line_def_tpl","mode","connectgaps","plot_def_tpl","title","lines_attach","GraphDashboard","actions","icon","handler","show_addlines","show_addgraph","show_settings","plots","ws_status","renderDelay","clearInterval","render_delay","setInterval","messageProcess","msg_recv","keys","key_name","name_y","axis_x","round","axis_y","startsWith","path","slice","_","get","line_name","Array","isArray","y_value","index","addUpdateLines","values_limit","line_tpl","JSON","parse","stringify","global_data_revision","length","shift","addUpdatePlots","plot_name","random","toString","substring","plot_tpl","renderReadyPlots","xs","md","layout_cols","show_joystick","speeddial","wshelper","prevProps","prevState","classes","justify","rate","datapoints","SpeedDial","ariaLabel","className","speedDial","SpeedDialIcon","FabProps","size","action","SpeedDialAction","tooltipTitle","tooltipOpen","withStyles","theme","bottom","right","mainDiv","flexGrow","Joystick","joystick_msg","testJoystick","axes","buttons","enabled","axesMode","joy_finetune","axes_scale","axes_deadzone","last_timestamp","data_revision","procData","resetMessage","readJoystick","gamepads","navigator","getGamepads","gamepad","timestamp","axis","deadzone","scale_neg","scale_pos","button","pressed","returnNormalized","joy_index","size_scale","instance","options","lockX","lockY","restJoystick_0","restJoystick_1","checkJoy","joystick","align","toFixed","top","left","dynamicPage","restJoystick","threshold","outline","onMove","evt","onEnd","TabPanel","role","hidden","children","WebSocketHelper","timeout","connect","ws","WebSocket","ws_url","status","connectInterval","that","onopen","clearTimeout","onclose","e","console","log","reason","setTimeout","checkSocketConnection","onerror","err","error","message","close","onmessage","sendMessage","msg","readyState","CLOSED","send","keep_alive","keepAlive","MainSettings","dark_theme","disabled","createMuiTheme","palette","typography","App","sent_count","received_count","pushgraphdata","sendWSmsg","connectionStatus","a11yProps","selectedTab","show_mainsettings","ThemeProvider","AppBar","Toolbar","Tabs","mainTabs","newValue","indicatorColor","textColor","scrollButtons","Tab","Box","iconSpaced","Badge","anchorOrigin","vertical","horizontal","badgeContent","showZero","IconButton","component","padding","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da2fcdb0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nimport Plotly from 'plotly.js-gl2d-dist-min';\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\n\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\n\r\nexport class ScatterPlot extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {},\r\n      layout: {\r\n        xaxis: {\r\n          autorange: true,\r\n          //rangeslider: {} // Degrades performance slightly, for scattergl only as a scroll (not showing contents)\r\n        },\r\n        yaxis: {\r\n          autorange: true,\r\n          type: 'linear'\r\n        },\r\n        showlegend: true,\r\n        legend: { x: 0, y: 1.4 },\r\n        //autosize: true,\r\n        width: 700,\r\n        height: 450,\r\n        margin: {\r\n          l: 50,\r\n          r: 5,\r\n          b: 30,\r\n          t: 0,\r\n          pad: 4\r\n        },\r\n        datarevision: 0\r\n      },\r\n      frames: [],\r\n      config: {\r\n        displayModeBar: true,\r\n        displaylogo: false\r\n      },\r\n      revision: 0\r\n    };\r\n    this.responsiveChartRef = React.createRef();\r\n  }\r\n  \r\n  componentDidMount() {\r\n    const el_width = this.responsiveChartRef.current.getBoundingClientRect().width - 5;\r\n    const el_height = this.responsiveChartRef.current.getBoundingClientRect().height;\r\n    if (el_width !== this.state.layout.width) {\r\n      this.setState({ layout: { ...this.state.layout, width: el_width, height: el_height } });\r\n    }\r\n\r\n    this.resizeListener = window.addEventListener('resize', () => {\r\n      if (this.responsiveChartRef.current) {\r\n        const el_width = this.responsiveChartRef.current.getBoundingClientRect().width - 5;\r\n        const el_height = this.responsiveChartRef.current.getBoundingClientRect().height;\r\n        if (el_width !== this.state.layout.width) {\r\n          this.setState({ layout: { ...this.state.layout, width: el_width, height: el_height } });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resizeListener);\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering ScatterPlot: \" + this.props.event.layout.title );\r\n    return (<div ref={this.responsiveChartRef} style={{ height: '46vh' }}>\r\n      <Plot\r\n        data={Object.values(this.props.lines)}\r\n        layout={{ ...this.state.layout, ...this.props.event.layout }}\r\n        revision={this.props.event.revision}\r\n        frames={[...this.state.frames, ...this.props.event.frames]}\r\n        config={{ ...this.state.config, ...this.props.event.config }}\r\n      />\r\n    </div>);\r\n  }\r\n}\r\n\r\nScatterPlot.propTypes = {\r\n  lines: propTypes.object.isRequired,\r\n  event: propTypes.object.isRequired,\r\n}","export const available_signals = {\r\n  \"thermal\": {\r\n    \"freeSpace\": 0.2097935676574707,\r\n    \"batteryPercent\": 100,\r\n    \"batteryStatus\": \"Charging\",\r\n    \"fanSpeed\": 10,\r\n    \"started\": false,\r\n    \"usbOnline\": false,\r\n    \"startedTs\": 0,\r\n    \"thermalStatus\": \"green\",\r\n    \"batteryCurrent\": 594631,\r\n    \"batteryVoltage\": 4237493,\r\n    \"chargingError\": false,\r\n    \"chargingDisabled\": false,\r\n    \"memUsedPercent\": 35,\r\n    \"cpuPerc\": 20,\r\n    \"networkType\": \"wifi\",\r\n    \"offroadPowerUsage\": 25131,\r\n    \"networkStrength\": \"good\",\r\n    \"carBatteryCapacity\": 29755978,\r\n    \"cpu\": [\r\n      45.400001525878906,\r\n      44.79999923706055,\r\n      43.5,\r\n      43.79999923706055\r\n    ],\r\n    \"gpu\": [\r\n      41.900001525878906\r\n    ],\r\n    \"mem\": 44.5,\r\n    \"bat\": 0,\r\n    \"ambient\": 36\r\n  },\r\n  \"controlsState\": {\r\n    \"vEgo\": 0,\r\n    \"vPid\": 0.30000001192092896,\r\n    \"vTargetLead\": 0,\r\n    \"upAccelCmd\": 0,\r\n    \"uiAccelCmd\": 0,\r\n    \"jerkFactor\": 0,\r\n    \"angleSteers\": 94.94609832763672,\r\n    \"cumLagMs\": -7.119385719299316,\r\n    \"enabled\": false,\r\n    \"steerOverride\": false,\r\n    \"canMonoTimes\": [],\r\n    \"vCruise\": 255,\r\n    \"rearViewCam\": false,\r\n    \"alertText1\": \"CAN Error: Check Connections\",\r\n    \"alertText2\": \"\",\r\n    \"awarenessStatus\": 0,\r\n    \"planMonoTime\": 14472198808212,\r\n    \"angleSteersDes\": 0,\r\n    \"longControlState\": \"off\",\r\n    \"state\": \"disabled\",\r\n    \"vEgoRaw\": 0,\r\n    \"ufAccelCmd\": 0,\r\n    \"aTarget\": 0,\r\n    \"active\": false,\r\n    \"curvature\": 0.04042794927954674,\r\n    \"alertStatus\": \"normal\",\r\n    \"alertSize\": \"small\",\r\n    \"gpsPlannerActive\": false,\r\n    \"engageable\": false,\r\n    \"alertBlinkingRate\": 0,\r\n    \"driverMonitoringOn\": true,\r\n    \"alertType\": \"canError/permanent\",\r\n    \"vCurvature\": 0,\r\n    \"decelForTurn\": false,\r\n    \"startMonoTime\": 14478249972793,\r\n    \"mapValid\": false,\r\n    \"pathPlanMonoTime\": 14476238746960,\r\n    \"forceDecel\": false,\r\n    \":lateralControlState.indiState.active\": false,\r\n    \":lateralControlState.indiState.steerAngle\": 94.94609832763672,\r\n    \":lateralControlState.indiState.steerRate\": -3.0533325976085657e-13,\r\n    \":lateralControlState.indiState.steerAccel\": -2.4426660780868525e-12,\r\n    \":lateralControlState.indiState.rateSetPoint\": 0,\r\n    \":lateralControlState.indiState.accelSetPoint\": 0,\r\n    \":lateralControlState.indiState.accelError\": 0,\r\n    \":lateralControlState.indiState.delayedOutput\": 0,\r\n    \":lateralControlState.indiState.delta\": 0,\r\n    \":lateralControlState.indiState.output\": 0,\r\n    \":lateralControlState.indiState.saturated\": false,\r\n    \"decelForModel\": false,\r\n    \"alertSound\": \"none\",\r\n    \"canErrorCounter\": 0\r\n  },\r\n  \"model\": {\r\n    \"frameId\": 343,\r\n    \":path.prob\": 1,\r\n    \":path.std\": 0.05786691978573799,\r\n    \":path.poly\": [\r\n      -0.00003279856173321605,\r\n      0.001797072822228074,\r\n      -0.01207710336893797,\r\n      0.0085296630859375\r\n    ],\r\n    \":path.validLen\": 10,\r\n    \":leftLane.prob\": 0.05707139894366264,\r\n    \":leftLane.std\": 0.7359150648117065,\r\n    \":leftLane.poly\": [\r\n      0.000017444684999645688,\r\n      -0.0006862028385512531,\r\n      -0.0007475340971723199,\r\n      1.3701171875\r\n    ],\r\n    \":leftLane.validLen\": 10,\r\n    \":rightLane.prob\": 0.13420754671096802,\r\n    \":rightLane.std\": 0.7422302961349487,\r\n    \":rightLane.poly\": [\r\n      -0.00043971373816020787,\r\n      0.0035184614825993776,\r\n      -0.0013822192559018731,\r\n      -1.5146484375\r\n    ],\r\n    \":rightLane.validLen\": 10,\r\n    \":lead.dist\": 7.265625,\r\n    \":lead.prob\": 0.055310651659965515,\r\n    \":lead.std\": 4.922172546386719,\r\n    \":lead.relVel\": 0.671875,\r\n    \":lead.relVelStd\": 1.0264359712600708,\r\n    \":lead.relY\": -0.662109375,\r\n    \":lead.relYStd\": 1.7541979551315308,\r\n    \":lead.relA\": 0.304443359375,\r\n    \":lead.relAStd\": 0.5471526980400085,\r\n    \":leadFuture.dist\": 7.265625,\r\n    \":leadFuture.prob\": 0.010611421428620815,\r\n    \":leadFuture.std\": 4.922172546386719,\r\n    \":leadFuture.relVel\": 0.671875,\r\n    \":leadFuture.relVelStd\": 1.0264359712600708,\r\n    \":leadFuture.relY\": -0.662109375,\r\n    \":leadFuture.relYStd\": 1.7541979551315308,\r\n    \":leadFuture.relA\": 0.304443359375,\r\n    \":leadFuture.relAStd\": 0.5471526980400085,\r\n    \"timestampEof\": 14476174423000,\r\n    \":meta.engagedProb\": 0.00010472556459717453,\r\n    \":meta.desirePrediction\": [\r\n      0.8760396838188171,\r\n      0.043615445494651794,\r\n      0.033967744559049606,\r\n      0.011738939210772514,\r\n      0.020602479577064514,\r\n      0.004893518052995205,\r\n      0.009142294526100159,\r\n      7.491341590280472e-42,\r\n      0.8782839775085449,\r\n      0.05274505168199539,\r\n      0.03100721724331379,\r\n      0.011406918056309223,\r\n      0.014196137897670269,\r\n      0.005222467239946127,\r\n      0.0071382662281394005,\r\n      2.0206723855563862e-42,\r\n      0.8650035262107849,\r\n      0.06168917939066887,\r\n      0.032507915049791336,\r\n      0.014652464538812637,\r\n      0.012730282731354237,\r\n      0.0067083872854709625,\r\n      0.0067083872854709625,\r\n      3.127305808802981e-39,\r\n      0.8451585173606873,\r\n      0.0672403946518898,\r\n      0.03831242397427559,\r\n      0.01987622305750847,\r\n      0.012833054177463055,\r\n      0.008548656478524208,\r\n      0.008030720055103302,\r\n      4.61321467440373e-40\r\n    ],\r\n    \":meta.brakeDisengageProb\": 0.012673735618591309,\r\n    \":meta.gasDisengageProb\": 0.16926851868629456,\r\n    \":meta.steerOverrideProb\": 0.3132096529006958,\r\n    \":meta.desireState\": [\r\n      0.8809301257133484,\r\n      0.004713871516287327,\r\n      0.030026251450181007,\r\n      0.009596966207027435,\r\n      0.06873077899217606,\r\n      0.005958892405033112,\r\n      0.00004307541166781448,\r\n      7.190031718878193e-14\r\n    ],\r\n    \"frameAge\": 0,\r\n    \"frameDropPerc\": 0,\r\n    \"modelExecutionTime\": 0.030757030472159386,\r\n    \"gpuExecutionTime\": 0\r\n  },\r\n  \"health\": {\r\n    \"voltage\": 12087,\r\n    \"current\": 0,\r\n    \"ignitionLine\": false,\r\n    \"controlsAllowed\": false,\r\n    \"gasInterceptorDetected\": false,\r\n    \"hasGps\": true,\r\n    \"canSendErrs\": 2663915,\r\n    \"canFwdErrs\": 0,\r\n    \"gmlanSendErrs\": 0,\r\n    \"hwType\": \"uno\",\r\n    \"fanSpeedRpm\": 375,\r\n    \"usbPowerMode\": \"cdp\",\r\n    \"ignitionCan\": false,\r\n    \"safetyModel\": \"noOutput\",\r\n    \"faultStatus\": \"none\",\r\n    \"powerSaveEnabled\": true,\r\n    \"uptime\": 2419218,\r\n    \"faults\": [],\r\n    \"canRxErrs\": 0\r\n  },\r\n  \"radarState\": {\r\n    \":leadOne.dRel\": 0,\r\n    \":leadOne.yRel\": 0,\r\n    \":leadOne.vRel\": 0,\r\n    \":leadOne.aRel\": 0,\r\n    \":leadOne.vLead\": 0,\r\n    \":leadOne.dPath\": 0,\r\n    \":leadOne.vLat\": 0,\r\n    \":leadOne.vLeadK\": 0,\r\n    \":leadOne.aLeadK\": 0,\r\n    \":leadOne.fcw\": false,\r\n    \":leadOne.status\": false,\r\n    \":leadOne.aLeadTau\": 0,\r\n    \":leadOne.modelProb\": 0,\r\n    \":leadOne.radar\": false,\r\n    \":leadTwo.dRel\": 0,\r\n    \":leadTwo.yRel\": 0,\r\n    \":leadTwo.vRel\": 0,\r\n    \":leadTwo.aRel\": 0,\r\n    \":leadTwo.vLead\": 0,\r\n    \":leadTwo.dPath\": 0,\r\n    \":leadTwo.vLat\": 0,\r\n    \":leadTwo.vLeadK\": 0,\r\n    \":leadTwo.aLeadK\": 0,\r\n    \":leadTwo.fcw\": false,\r\n    \":leadTwo.status\": false,\r\n    \":leadTwo.aLeadTau\": 0,\r\n    \":leadTwo.modelProb\": 0,\r\n    \":leadTwo.radar\": false,\r\n    \"cumLagMs\": -40.058692932128906,\r\n    \"mdMonoTime\": 14472189831128,\r\n    \"canMonoTimes\": [],\r\n    \"controlsStateMonoTime\": 14472189113524,\r\n    \"radarErrors\": []\r\n  },\r\n  \"liveCalibration\": {\r\n    \"calStatus\": 1,\r\n    \"calCycle\": 0,\r\n    \"calPerc\": 100,\r\n    \"extrinsicMatrix\": [\r\n      0.019966470077633858,\r\n      -0.9998006224632263,\r\n      0.00019015562429558486,\r\n      0,\r\n      0.009523315355181694,\r\n      -1.3552527156068805e-20,\r\n      -0.9999546408653259,\r\n      1.2200000286102295,\r\n      0.999755322933197,\r\n      0.019967375323176384,\r\n      0.009521417319774628,\r\n      0\r\n    ],\r\n    \"rpyCalib\": [\r\n      -0.000023826511096558534,\r\n      -0.00952345971018076,\r\n      0.019968701526522636\r\n    ],\r\n    \"rpyCalibSpread\": [\r\n      0,\r\n      0,\r\n      0\r\n    ],\r\n    \"validBlocks\": 50\r\n  },\r\n  \"carState\": {\r\n    \"vEgo\": 0,\r\n    \":wheelSpeeds.fl\": 0,\r\n    \":wheelSpeeds.fr\": 0,\r\n    \":wheelSpeeds.rl\": 0,\r\n    \":wheelSpeeds.rr\": 0,\r\n    \"gas\": 0,\r\n    \"gasPressed\": false,\r\n    \"brake\": 0,\r\n    \"brakePressed\": false,\r\n    \"steeringAngle\": 94.94609832763672,\r\n    \"steeringTorque\": -4,\r\n    \"steeringPressed\": false,\r\n    \"cruiseState\": {\r\n      \"enabled\": false,\r\n      \"speed\": 0,\r\n      \"available\": false,\r\n      \"speedOffset\": 0,\r\n      \"standstill\": false,\r\n      \"nonAdaptive\": false\r\n    },\r\n    \"gearShifter\": \"park\",\r\n    \"steeringRate\": 0,\r\n    \"aEgo\": 0,\r\n    \"vEgoRaw\": 0,\r\n    \"standstill\": true,\r\n    \"brakeLights\": false,\r\n    \"leftBlinker\": false,\r\n    \"rightBlinker\": false,\r\n    \"yawRate\": 0,\r\n    \"genericToggle\": false,\r\n    \"doorOpen\": false,\r\n    \"seatbeltUnlatched\": false,\r\n    \"canValid\": false,\r\n    \"steeringTorqueEps\": -42.5,\r\n    \"clutchPressed\": false,\r\n    \"steeringRateLimited\": false,\r\n    \"stockAeb\": false,\r\n    \"stockFcw\": false,\r\n    \"espDisabled\": false,\r\n    \"leftBlindspot\": false,\r\n    \"rightBlindspot\": false,\r\n    \"steerWarning\": false,\r\n    \"steerError\": false\r\n  },\r\n  \"carControl\": {\r\n    \"enabled\": false,\r\n    \":cruiseControl.cancel\": false,\r\n    \":cruiseControl.override\": true,\r\n    \":cruiseControl.speedOverride\": 0.30000001192092896,\r\n    \":cruiseControl.accelOverride\": 1,\r\n    \":hudControl.speedVisible\": false,\r\n    \":hudControl.setSpeed\": 70.83333587646484,\r\n    \":hudControl.lanesVisible\": false,\r\n    \":hudControl.leadVisible\": false,\r\n    \":hudControl.visualAlert\": \"none\",\r\n    \":hudControl.audibleAlert\": \"none\",\r\n    \":hudControl.rightLaneVisible\": false,\r\n    \":hudControl.leftLaneVisible\": false,\r\n    \":hudControl.rightLaneDepart\": false,\r\n    \":hudControl.leftLaneDepart\": false,\r\n    \":actuators.gas\": 0,\r\n    \":actuators.brake\": 0,\r\n    \":actuators.steer\": 0,\r\n    \":actuators.steerAngle\": 0,\r\n    \"active\": false\r\n  },\r\n  \"plan\": {\r\n    \"vTarget\": 0,\r\n    \"jerkFactor\": 0,\r\n    \"hasLead\": false,\r\n    \"fcw\": false,\r\n    \"mdMonoTime\": 14472189831128,\r\n    \"radarStateMonoTime\": 14472196674045,\r\n    \"vTargetFuture\": 11.54289436340332,\r\n    \"longitudinalPlanSource\": \"cruise\",\r\n    \"vCruise\": 0,\r\n    \"aCruise\": 0,\r\n    \"aTarget\": 0,\r\n    \"gpsPlannerActive\": false,\r\n    \"vMax\": 0,\r\n    \"vCurvature\": 0,\r\n    \"decelForTurn\": false,\r\n    \"mapValid\": false,\r\n    \"vStart\": 0,\r\n    \"aStart\": 0,\r\n    \"radarValid\": true,\r\n    \"processingDelay\": 0.001614999957382679,\r\n    \"radarCanError\": false,\r\n    \"commIssue\": false\r\n  },\r\n  \"liveLocation\": {\r\n    \"status\": 0,\r\n    \"lat\": 0,\r\n    \"lon\": 0,\r\n    \"alt\": 0,\r\n    \"speed\": 0,\r\n    \"roll\": 0,\r\n    \"pitch\": 0,\r\n    \"heading\": 0,\r\n    \"wanderAngle\": 0,\r\n    \"trackAngle\": 0,\r\n    \"source\": \"applanix\",\r\n    \"fixMonoTime\": 0,\r\n    \"gpsWeek\": 0,\r\n    \"timeOfWeek\": 0,\r\n    \"pitchCalibration\": 0,\r\n    \"yawCalibration\": 0\r\n  },\r\n  \"liveMpc\": {\r\n    \"qpIterations\": 0,\r\n    \"calculationTime\": 0,\r\n    \"cost\": 0,\r\n  },\r\n  \"liveLongitudinalMpc\": {\r\n    \"aLeadTau\": 0,\r\n    \"qpIterations\": 0,\r\n    \"mpcId\": 0,\r\n    \"calculationTime\": 0,\r\n    \"cost\": 0,\r\n  },\r\n  \"driverState\": {\r\n    \"frameId\": 137,\r\n    \"faceOrientation\": [\r\n      -0.1421688199043274,\r\n      0.3909642696380615,\r\n      0.3198798596858978\r\n    ],\r\n    \"facePosition\": [\r\n      0.2132532298564911,\r\n      0.2132532298564911\r\n    ],\r\n    \"faceProb\": 0.9951817393302917,\r\n    \"leftEyeProb\": 0.9596395492553711,\r\n    \"rightEyeProb\": 0.888555109500885,\r\n    \"leftBlinkProb\": 0.03554220497608185,\r\n    \"rightBlinkProb\": 0.03554220497608185,\r\n    \"faceOrientationStd\": [\r\n      0.07202030718326569,\r\n      0.05659650266170502,\r\n      0.045972857624292374\r\n    ],\r\n    \"facePositionStd\": [\r\n      0.0191628560423851,\r\n      0.00792522169649601\r\n    ],\r\n    \"sgProb\": 0.0710844099521637,\r\n    \"modelExecutionTime\": 0.018670208752155304,\r\n    \"dspExecutionTime\": 0.012666874565184116\r\n  },\r\n  \"liveParameters\": {\r\n    \"valid\": true,\r\n    \"gyroBias\": 0,\r\n    \"angleOffset\": 0.13531090319156647,\r\n    \"angleOffsetAverage\": 0.13531090319156647,\r\n    \"stiffnessFactor\": 1,\r\n    \"steerRatio\": 15.864039421081543,\r\n    \"sensorValid\": true,\r\n    \"yawRate\": 0,\r\n    \"posenetSpeed\": 0,\r\n    \"posenetValid\": true\r\n  },\r\n  \"cameraOdometry\": {\r\n    \"trans\": [\r\n      0.0141754150390625,\r\n      -0.00048542022705078125,\r\n      0.002925872802734375\r\n    ],\r\n    \"rot\": [\r\n      0,\r\n      0,\r\n      0\r\n    ],\r\n    \"transStd\": [\r\n      0.023609790951013565,\r\n      0.015066033229231834,\r\n      0.0341513529419899\r\n    ],\r\n    \"rotStd\": [\r\n      0.0007046477403491735,\r\n      0.0006267267162911594,\r\n      0.0007678816327825189\r\n    ],\r\n    \"frameId\": 343,\r\n    \"timestampEof\": 14476174423000\r\n  },\r\n  \"pathPlan\": {\r\n    \"laneWidth\": 2.799999952316284,\r\n    \"dPoly\": [\r\n      -0.00003279856173321605,\r\n      0.001797072822228074,\r\n      -0.01207710336893797,\r\n      0.0085296630859375\r\n    ],\r\n    \"cProb\": 0,\r\n    \"lPoly\": [\r\n      0.000017444684999645688,\r\n      -0.0006862028385512531,\r\n      -0.0007475340971723199,\r\n      1.430117130279541\r\n    ],\r\n    \"lProb\": 0.05707139894366264,\r\n    \"rPoly\": [\r\n      -0.00043971373816020787,\r\n      0.0035184614825993776,\r\n      -0.0013822192559018731,\r\n      -1.454648494720459\r\n    ],\r\n    \"rProb\": 0.13420754671096802,\r\n    \"angleSteers\": 94.94609832763672,\r\n    \"mpcSolutionValid\": true,\r\n    \"paramsValid\": true,\r\n    \"angleOffset\": 0.13531090319156647,\r\n    \"rateSteers\": 0,\r\n    \"sensorValid\": false,\r\n    \"commIssue\": false,\r\n    \"posenetValid\": false,\r\n    \"desire\": \"none\",\r\n    \"laneChangeState\": \"off\",\r\n    \"laneChangeDirection\": \"none\"\r\n  },\r\n  \"carParams\": {\r\n    \"carName\": \"toyota\",\r\n    \"carFingerprint\": \"TOYOTA COROLLA TSS2 2019\",\r\n    \"enableGasInterceptor\": false,\r\n    \"enableCruise\": true,\r\n    \"enableCamera\": true,\r\n    \"enableDsu\": false,\r\n    \"enableApgs\": false,\r\n    \"minEnableSpeed\": -1,\r\n    \"minSteerSpeed\": 0,\r\n    \"safetyModel\": \"toyota\",\r\n    \"safetyParam\": 50,\r\n    \"steerMaxBP\": [\r\n      0\r\n    ],\r\n    \"steerMaxV\": [\r\n      1\r\n    ],\r\n    \"gasMaxBP\": [\r\n      0\r\n    ],\r\n    \"gasMaxV\": [\r\n      0.5\r\n    ],\r\n    \"brakeMaxBP\": [\r\n      0\r\n    ],\r\n    \"brakeMaxV\": [\r\n      1\r\n    ],\r\n    \"mass\": 1523.9915771484375,\r\n    \"wheelbase\": 2.6700000762939453,\r\n    \"centerToFront\": 1.1748000383377075,\r\n    \"steerRatio\": 15.329999923706055,\r\n    \"steerRatioRear\": 0,\r\n    \"rotationalInertia\": 2548.41552734375,\r\n    \"tireStiffnessFront\": 186196.578125,\r\n    \"tireStiffnessRear\": 231266.25,\r\n    \":longitudinalTuning.kpBP\": [\r\n      0,\r\n      5,\r\n      20\r\n    ],\r\n    \":longitudinalTuning.kpV\": [\r\n      1.2999999523162842,\r\n      1,\r\n      0.699999988079071\r\n    ],\r\n    \":longitudinalTuning.kiBP\": [\r\n      0,\r\n      5,\r\n      12,\r\n      20,\r\n      27\r\n    ],\r\n    \":longitudinalTuning.kiV\": [\r\n      0.3499999940395355,\r\n      0.23000000417232513,\r\n      0.20000000298023224,\r\n      0.17000000178813934,\r\n      0.10000000149011612\r\n    ],\r\n    \":longitudinalTuning.deadzoneBP\": [\r\n      0,\r\n      8.050000190734863\r\n    ],\r\n    \":longitudinalTuning.deadzoneV\": [\r\n      0,\r\n      0.14000000059604645\r\n    ],\r\n    \":lateralTuning.indi.outerLoopGainBP\": [\r\n      18,\r\n      22,\r\n      26\r\n    ],\r\n    \":lateralTuning.indi.outerLoopGainV\": [\r\n      8,\r\n      11,\r\n      14.899999618530273\r\n    ],\r\n    \":lateralTuning.indi.innerLoopGainBP\": [\r\n      18,\r\n      22,\r\n      26\r\n    ],\r\n    \":lateralTuning.indi.innerLoopGainV\": [\r\n      9,\r\n      12,\r\n      15\r\n    ],\r\n    \":lateralTuning.indi.timeConstantBP\": [\r\n      18,\r\n      22,\r\n      26\r\n    ],\r\n    \":lateralTuning.indi.timeConstantV\": [\r\n      1,\r\n      3,\r\n      4.5\r\n    ],\r\n    \":lateralTuning.indi.actuatorEffectivenessBP\": [\r\n      18,\r\n      22,\r\n      26\r\n    ],\r\n    \":lateralTuning.indi.actuatorEffectivenessV\": [\r\n      9,\r\n      12,\r\n      15\r\n    ],\r\n    \"steerLimitAlert\": false,\r\n    \"vEgoStopping\": 0,\r\n    \"directAccelControl\": false,\r\n    \"stoppingControl\": false,\r\n    \"startAccel\": 1.2000000476837158,\r\n    \"steerRateCost\": 0.5,\r\n    \"steerControlType\": \"torque\",\r\n    \"radarOffCan\": false,\r\n    \"steerActuatorDelay\": 0.44999998807907104,\r\n    \"openpilotLongitudinalControl\": true,\r\n    \"carVin\": \"JTDS4MCE2MJ056503\",\r\n    \"isPandaBlack\": true,\r\n    \"dashcamOnly\": false,\r\n    \"safetyModelPassive\": \"silent\",\r\n    \"transmissionType\": \"unknown\",\r\n    // \"carFw\": [\r\n    //   {\r\n    //     \"ecu\": \"esp\",\r\n    //     \"fwVersion\": \"\\u0001F152612B90\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\",\r\n    //     \"address\": 1968,\r\n    //     \"subAddress\": 0\r\n    //   },\r\n    //   {\r\n    //     \"ecu\": \"engine\",\r\n    //     \"fwVersion\": \"\\u00018966312M9000\\u0000\\u0000\\u0000\\u0000\",\r\n    //     \"address\": 1792,\r\n    //     \"subAddress\": 0\r\n    //   },\r\n    //   {\r\n    //     \"ecu\": \"eps\",\r\n    //     \"fwVersion\": \"\\u00018965B12350\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\",\r\n    //     \"address\": 1953,\r\n    //     \"subAddress\": 0\r\n    //   },\r\n    //   {\r\n    //     \"ecu\": \"fwdRadar\",\r\n    //     \"fwVersion\": \"\\u00018821F3301400\\u0000\\u0000\\u0000\\u0000\",\r\n    //     \"address\": 1872,\r\n    //     \"subAddress\": 15\r\n    //   },\r\n    //   {\r\n    //     \"ecu\": \"fwdCamera\",\r\n    //     \"fwVersion\": \"\\u00028646F1201300\\u0000\\u0000\\u0000\\u00008646G2601400\\u0000\\u0000\\u0000\\u0000\",\r\n    //     \"address\": 1872,\r\n    //     \"subAddress\": 109\r\n    //   }\r\n    // ],\r\n    \"radarTimeStep\": 0.05000000074505806,\r\n    \"communityFeature\": false,\r\n    \"steerLimitTimer\": 0.4000000059604645,\r\n    \"fingerprintSource\": \"can\",\r\n    \"networkLocation\": \"fwdCamera\",\r\n    \"minSpeedCan\": 0.30000001192092896,\r\n    \"stoppingBrakeRate\": 0.10000000149011612,\r\n    \"startingBrakeRate\": 2\r\n  },\r\n  \"dMonitoringState\": {\r\n    \"events\": [],\r\n    \"faceDetected\": true,\r\n    \"isDistracted\": false,\r\n    \"awarenessStatus\": 1,\r\n    \"isRHD\": false,\r\n    \"posePitchOffset\": 0,\r\n    \"posePitchValidCount\": 0,\r\n    \"poseYawOffset\": 0,\r\n    \"poseYawValidCount\": 0,\r\n    \"stepChange\": 0.00909090880304575,\r\n    \"awarenessActive\": 1,\r\n    \"awarenessPassive\": 1,\r\n    \"isLowStd\": true,\r\n    \"hiStdCount\": 0,\r\n    \"isPreview\": false\r\n  },\r\n  \"testJoystick\": {\r\n    \"axes\": [],\r\n    \"buttons\": [],\r\n    \"enabled\": false,\r\n    \"axesMode\": [],\r\n  }\r\n};","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nimport { available_signals } from '../helpers/available_signals';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  Typography,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n} from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\n\r\nexport class AddLines extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      render_revision: 0,\r\n    }\r\n  }\r\n\r\n  selected = {};\r\n\r\n  shouldComponentUpdate(nextProps, nextState) { // Limits re-renders\r\n    return nextProps.show !== this.props.show || nextState.render_revision !== this.state.render_revision;\r\n  }\r\n\r\n  renderButtons = () => {\r\n    const result = []\r\n    Object.entries(available_signals).forEach(([key, value]) => {\r\n      if (typeof value === 'object') {\r\n        const filtered_array = [];\r\n        Object.entries(value).forEach(([v_key, v_value]) => {\r\n          if (v_value !== \"DEBUG\" && v_key !== 'logMonoTime') { // if ((typeof v_value === 'boolean' || typeof v_value === 'number') && v_key !== 'logMonoTime')\r\n            filtered_array.push(<ToggleButton style={{textTransform: 'none', borderRadius: '0', minWidth: '40ch', maxHeight: '20px'}} value={v_key} key={v_key} aria-label={v_key}>{v_key}</ToggleButton>);\r\n          }\r\n        });\r\n        result.push(\r\n          <Accordion key={key}>\r\n            <AccordionSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel1a-content\"\r\n              id=\"panel1a-header\"\r\n            >\r\n              <Typography variant=\"body1\">{key}</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails style={{ justifyContent: \"center\" }}>\r\n            <ToggleButtonGroup orientation=\"vertical\" value={this.selected.[key]} onChange={(event, signals) => {this.selected.[key] = signals ; this.setState({render_revision: this.state.render_revision + 1}); } } aria-label=\"lines selected\">\r\n                {filtered_array}\r\n              </ToggleButtonGroup>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n\r\n\r\n        );\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering AddLines\");\r\n    this.selected = this.props.prev_selection;\r\n    return (\r\n      <Dialog\r\n        open={this.props.show}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogContent>\r\n          {this.renderButtons()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => this.props.setLogParams(this.selected)} color=\"primary\">\r\n            Save\r\n        </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nAddLines.propTypes = {\r\n  show: propTypes.bool.isRequired,\r\n  prev_selection: propTypes.object.isRequired,\r\n  setLogParams: propTypes.func.isRequired,\r\n}","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControl,\r\n  Input,\r\n  InputLabel,\r\n  FormHelperText,\r\n  Grid,\r\n} from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nexport class AddGraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      render_revision: 0,\r\n    }\r\n  }\r\n  \r\n  plotname = '';\r\n  lines = [];\r\n\r\n  shouldComponentUpdate(nextProps, nextState) { // Limits re-renders\r\n    return nextProps.show !== this.props.show || nextState.render_revision !== this.state.render_revision;\r\n  }\r\n\r\n  renderButtons = () => {\r\n    return this.props.lines_available.map(key => {\r\n      return <ToggleButton style={{textTransform: 'none', borderRadius: '0', minWidth: '25ch', maxHeight: '20px'}} value={key} key={key} aria-label={key}>{key}</ToggleButton>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering AddGraph\");\r\n    return (\r\n      <Dialog\r\n        open={this.props.show}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Add Graph</DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} direction=\"column\" alignItems=\"center\">\r\n            <Grid item>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"plotname\">Plot Name</InputLabel>\r\n                <Input\r\n                  id=\"plotname\"\r\n                  onChange={event => this.plotname = event.target.value}\r\n                  aria-describedby=\"plotname-helper-text\"\r\n                  inputProps={{\r\n                    'aria-label': 'Plot Name',\r\n                  }}\r\n                />\r\n                <FormHelperText id=\"plotname-helper-text\">Can be left empty</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item>\r\n            <ToggleButtonGroup orientation=\"vertical\" value={this.lines} onChange={(event, lines) => {this.lines = lines; this.setState({render_revision: this.state.render_revision + 1}); } } aria-label=\"lines available\">\r\n              {this.renderButtons()}\r\n            </ToggleButtonGroup>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => this.props.addplot(this.plotname, this.lines)} color=\"primary\">\r\n            Save\r\n        </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nAddGraph.propTypes = {\r\n  show: propTypes.bool.isRequired,\r\n  lines_available: propTypes.array.isRequired,\r\n  addplot: propTypes.func.isRequired,\r\n}","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  InputAdornment,\r\n  FormControl,\r\n  Input,\r\n  InputLabel,\r\n  FormHelperText,\r\n  FormControlLabel,\r\n  Switch,\r\n  Grid,\r\n} from '@material-ui/core';\r\n\r\nexport class GraphSettings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cols: 0,\r\n      rateHz: 20,\r\n      max_datapoints: 100,\r\n      webgl: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() { //Unsafe! Need to get rid of!\r\n    this.setState({\r\n      cols: this.props.cols,\r\n      rateHz: this.props.rateHz,\r\n      max_datapoints: this.props.max_datapoints\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) { // Limits re-render\r\n    if (nextProps.show !== this.props.show || nextState !== this.state) return true;\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering GraphSettings\");\r\n    return (\r\n      <Dialog\r\n        open={this.props.show}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Graphs settings</DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} direction=\"column\" alignItems=\"flex-start\">\r\n            <Grid item>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"cols\">Graph columns</InputLabel>\r\n                <Input\r\n                  id=\"cols\"\r\n                  value={this.state.cols}\r\n                  onChange={event => this.setState({ cols: Math.min(Math.max(parseInt(event.target.value), 1), 12) })}\r\n                  aria-describedby=\"cols-helper-text\"\r\n                  inputProps={{\r\n                    'aria-label': 'Graph columns',\r\n                  }}\r\n                />\r\n                <FormHelperText id=\"cols-helper-text\">Max: 12</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"rateHz\">Render rate</InputLabel>\r\n                <Input\r\n                  id=\"rateHz\"\r\n                  value={this.state.rateHz}\r\n                  onChange={event => this.setState({ rateHz: Math.min(Math.max(parseInt(event.target.value), 0.5), 20) })}\r\n                  endAdornment={<InputAdornment position=\"end\">Hz</InputAdornment>}\r\n                  aria-describedby=\"rateHz-helper-text\"\r\n                  inputProps={{\r\n                    'aria-label': 'Render rate',\r\n                  }}\r\n                />\r\n                <FormHelperText id=\"rateHz-helper-text\">Min: 0.5, Max: 20</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"max_datapoints\">Max data points</InputLabel>\r\n                <Input\r\n                  id=\"max_datapoints\"\r\n                  value={this.state.max_datapoints}\r\n                  onChange={event => this.setState({ max_datapoints: Math.min(Math.max(parseInt(event.target.value), 20), 10000) })}\r\n                  aria-describedby=\"max_datapoints-helper-text\"\r\n                  inputProps={{\r\n                    'aria-label': 'Max data points',\r\n                  }}\r\n                />\r\n                <FormHelperText id=\"max_datapoints-helper-text\">Max: 10000</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item>\r\n              <FormControlLabel\r\n                control={<Switch checked={this.state.webgl} onChange={() => this.setState({ webgl: !this.state.webgl })} name=\"webGL\" />}\r\n                label=\"WebGL support\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => this.props.setSettings(this.state.cols, this.state.rateHz, this.state.max_datapoints, this.state.webgl)} color=\"primary\">\r\n            Save\r\n        </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nGraphSettings.propTypes = {\r\n  show: propTypes.bool.isRequired,\r\n  cols: propTypes.number.isRequired,\r\n  rateHz: propTypes.number.isRequired,\r\n  max_datapoints: propTypes.number.isRequired,\r\n  webgl: propTypes.bool.isRequired,\r\n  setSettings: propTypes.func.isRequired,\r\n}","import React, { Component, Fragment } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport _ from 'lodash';\r\n\r\nimport { ScatterPlot } from './ScatterPlot';\r\nimport { AddLines } from './AddLines';\r\nimport { AddGraph } from './AddGraph';\r\nimport { GraphSettings } from './GraphSettings';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from '@material-ui/lab';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport LinearScaleIcon from '@material-ui/icons/LinearScale';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\n\r\nconst line_def_tpl = {\r\n  x: [],\r\n  y: [],\r\n  type: 'scattergl',\r\n  name: 'Line 1',\r\n  mode: 'lines', //lines+markers\r\n  connectgaps: false\r\n};\r\nconst plot_def_tpl = {\r\n  layout: {\r\n    title: 'debug_filler',\r\n    datarevision: 0\r\n  },\r\n  frames: [],\r\n  config: {},\r\n  revision: 0,\r\n  lines_attach: []\r\n}\r\n\r\nconst styles = theme => ({\r\n  speedDial: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n  },\r\n  mainDiv: {\r\n    flexGrow: 1,\r\n  }\r\n});\r\n\r\n\r\nclass GraphDashboard extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      show_addlines: false,\r\n      show_addgraph: false,\r\n      show_settings: false,\r\n      show_joystick: false,\r\n      layout_cols: 2,\r\n      rateHz: 10,\r\n      max_datapoints: 100,\r\n      webgl: true,\r\n      speeddial: false,\r\n      render_revision: 0,\r\n      global_data_revision: 0,\r\n    }\r\n    this.wshelper = React.createRef(); //Reference to call sendMessage func inside WebSocketHelper\r\n  }\r\n\r\n  actions = [\r\n    { icon: <LinearScaleIcon />, name: 'Add Signals', handler: () => { this.setState({ show_addlines: true }) } },\r\n    { icon: <EqualizerIcon />, name: 'Add Graph', handler: () => { this.setState({ show_addgraph: true }) } },\r\n    { icon: <SettingsIcon />, name: 'Settings', handler: () => { this.setState({ show_settings: true }) } },\r\n    { icon: <DeleteForeverIcon />, name: 'DelPlots', handler: () => { this.plots = {} } },\r\n    { icon: <DeleteForeverIcon />, name: 'ClearLines', handler: () => { this.lines = {}; this.selected = {}; } },\r\n  ];\r\n\r\n  plots = {};\r\n  lines = {};\r\n  selected = {};\r\n  ws_status = '';\r\n\r\n  componentDidMount() {\r\n    this.render_delay = setInterval(this.renderDelay, 1000 / this.state.rateHz); // Limit render? 4graphs/2lines or 2grapgs/8lines at 20Hz\r\n    //Real measured - 2 graphs/2 lines at 50ms, 3 graphs/2 lines at ~80ms, 4graphs/2 lines at ~110ms, 5graphs/2 lines at ~140ms (So around 25-30ms each graph?)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.render_delay);\r\n  }\r\n\r\n  shouldComponentUpdate(prevProps, prevState) {\r\n    return prevState.render_revision !== this.state.render_revision;\r\n  }\r\n\r\n  renderDelay = () => {\r\n    clearInterval(this.render_delay);\r\n    this.setState({ render_revision: this.state.render_revision + 1 });\r\n    this.render_delay = setInterval(this.renderDelay, 1000 / this.state.rateHz)\r\n  }\r\n\r\n  messageProcess = msg_recv => { // Need to improve, very expensive work!!!\r\n    Object.keys(this.selected).forEach(key_name => {\r\n      this.selected[key_name].forEach(name_y => {\r\n        if (msg_recv.[key_name]) {\r\n          let axis_x = Math.round(msg_recv.[key_name].['logMonoTime'] / 1000000.0) / 1000; // Convert to seconds with 3 digits after the dot.\r\n          let axis_y = null;\r\n          if (name_y.startsWith(':')) {\r\n            const path = name_y.slice(1)\r\n            axis_y = _.get(msg_recv.[key_name], path, null)\r\n          } else axis_y = msg_recv.[key_name].[name_y];\r\n\r\n          const line_name = key_name + ':' + name_y;\r\n          if (Array.isArray(axis_y)) {\r\n            axis_y.forEach((y_value, index) => {\r\n              if (typeof y_value === 'boolean') y_value += 0; // Converts boolean to int\r\n              if (typeof y_value !== 'number') y_value = null;\r\n              this.addUpdateLines(line_name + index, axis_x, y_value, this.state.max_datapoints); // Fix the name for Y axis !!!!!\r\n            })\r\n          } else {\r\n            if (typeof axis_y === 'boolean') axis_y += 0; // Converts boolean to int\r\n            if (typeof axis_y !== 'number') axis_y = null;\r\n            this.addUpdateLines(name_y, axis_x, axis_y, this.state.max_datapoints);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n  };\r\n\r\n  addUpdateLines = (name_y, axis_x, axis_y, values_limit = 100) => {\r\n    if (!this.lines.[name_y]) {\r\n      const line_tpl = JSON.parse(JSON.stringify(line_def_tpl));\r\n      line_tpl['type'] = this.state.webgl ? 'scattergl' : 'scatter';\r\n      line_tpl['name'] = name_y;\r\n      this.lines[name_y] = line_tpl;\r\n    }\r\n\r\n    if (this.lines.[name_y].x.slice(-1)[0] >= axis_x) return; // Skip same values for axis X (time)\r\n\r\n    this.setState({ global_data_revision: this.state.global_data_revision + 1 })\r\n    this.lines.[name_y].x.push(axis_x);\r\n    this.lines.[name_y].y.push(axis_y);\r\n    if (this.lines.[name_y].x.length > values_limit && values_limit !== 0) {\r\n      this.lines.[name_y].x.shift();\r\n      this.lines.[name_y].y.shift();\r\n    }\r\n  };\r\n\r\n  addUpdatePlots = (plot_name = \"\", lines = []) => {\r\n    if (plot_name.length === 0) plot_name = (Math.random() + 1).toString(36).substring(7); // Generate random name\r\n    if (!this.plots.[plot_name] && lines.length > 0) {\r\n      const plot_tpl = JSON.parse(JSON.stringify(plot_def_tpl));\r\n      plot_tpl['layout']['title'] = plot_name;\r\n      plot_tpl['lines_attach'] = lines;\r\n      this.plots[plot_name] = plot_tpl;\r\n    }\r\n    if (lines.length > 0) this.plots.[plot_name].lines_attach = lines;\r\n    if (this.plots.[plot_name]) {\r\n      this.plots.[plot_name].revision += 1\r\n      this.plots.[plot_name].layout.datarevision = this.plots.[plot_name].revision + 1;\r\n    }\r\n  };\r\n\r\n  renderReadyPlots = () => {\r\n    const plots = [];\r\n    Object.keys(this.plots).forEach(key => {\r\n      if (this.plots.[key].lines_attach.length) {\r\n        const lines = {};\r\n        Object.values(this.plots.[key].lines_attach).forEach(line_name => {\r\n          if (this.lines.[line_name]) {\r\n            lines[line_name] = this.lines.[line_name];\r\n          }\r\n        });\r\n        this.addUpdatePlots(key);\r\n        plots.push(<Grid item key={key} xs={12} md={12 / this.state.layout_cols}><ScatterPlot event={this.plots.[key]} lines={lines} /></Grid>);\r\n      }\r\n    });\r\n    return plots;\r\n  };\r\n\r\n  render() {\r\n    //console.log(\"Rendering GraphDashboard\");\r\n    const { classes } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          spacing={0}\r\n          justify=\"flex-start\"\r\n          alignItems=\"flex-start\"\r\n        >\r\n        {this.renderReadyPlots()}\r\n        </Grid>\r\n\r\n        {this.state.show_addlines ? (\r\n            <AddLines\r\n              setLogParams={event => { this.setState({ show_addlines: false }); this.selected = event }}\r\n              show={this.state.show_addlines}\r\n              prev_selection={this.selected}\r\n            />\r\n          ) : (null)}\r\n          {this.state.show_addgraph ? (\r\n            <AddGraph\r\n              addplot={(plot_name, lines) => this.setState({ show_addgraph: false }, this.addUpdatePlots(plot_name, lines))}\r\n              show={this.state.show_addgraph}\r\n              lines_available={Object.keys(this.lines)}\r\n            />\r\n          ) : (null)}\r\n          {this.state.show_settings ? (\r\n            <GraphSettings\r\n              setSettings={(cols, rate, datapoints, webgl) => this.setState({ show_settings: false, layout_cols: cols, rateHz: rate, max_datapoints: datapoints, webgl: webgl })}\r\n              show={this.state.show_settings}\r\n              cols={this.state.layout_cols}\r\n              rateHz={this.state.rateHz}\r\n              max_datapoints={this.state.max_datapoints}\r\n              webgl={this.state.webgl}\r\n            />\r\n          ) : (null)}\r\n\r\n\r\n        <SpeedDial\r\n          ariaLabel=\"SpeedDial tooltip example\"\r\n          className={classes.speedDial}\r\n          icon={<SpeedDialIcon />}\r\n          FabProps={{ size: 'small', color: \"secondary\" }}\r\n          onClick={() => this.setState({ speeddial: !this.state.speeddial })}\r\n          open={this.state.speeddial}\r\n        >\r\n          {this.actions.map((action) => (\r\n            <SpeedDialAction\r\n              key={action.name}\r\n              icon={action.icon}\r\n              tooltipTitle={action.name}\r\n              tooltipOpen\r\n              onClick={action.handler}\r\n            />\r\n          ))}\r\n        </SpeedDial>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nGraphDashboard.propTypes = {\r\n  classes: propTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(GraphDashboard);","import React, { Component, Fragment } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nimport ReactNipple from 'react-nipple';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from '@material-ui/lab';\r\n\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport SyncDisabledIcon from '@material-ui/icons/SyncDisabled';\r\n\r\nconst styles = theme => ({\r\n  joystick: {\r\n    //background: '#222',\r\n    //color: '#efefef',\r\n    height: '80vh',\r\n  },\r\n  speedDial: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n  },\r\n});\r\n\r\n\r\nclass Joystick extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      restJoystick_0: true,\r\n      restJoystick_1: true,\r\n      rateHz: 10,\r\n      revision: 0,\r\n      speeddial: false,\r\n      enabled: false,\r\n    }\r\n  }\r\n\r\n  joystick_msg = {\r\n    testJoystick: {\r\n      axes: [0, 0, 0, 0], // Axis 0, 1, 2, 3\r\n      buttons: [],\r\n      enabled: true,\r\n      axesMode: ['interceptor', 'interceptor', 'interceptor', 'interceptor']\r\n    }\r\n  };\r\n\r\n  joy_finetune = {\r\n    axes_scale: [\r\n      [1, 1],\r\n      [1, 1],\r\n      [1, 1],\r\n      [1, 1],\r\n    ],\r\n    axes_deadzone: [0.01, 0.01, 0.01, 0.01]\r\n  }\r\n\r\n  last_timestamp = 0;\r\n  data_revision = 0;\r\n\r\n  componentDidMount() {\r\n    this.render_delay = setInterval(this.renderDelay, 1000 / this.state.rateHz);\r\n    this.checkJoy = setInterval(this.readJoystick, 50);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.render_delay);\r\n    clearInterval(this.checkJoy);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return nextState.revision !== this.state.revision || nextState.speeddial !== this.state.speeddial;\r\n  }\r\n\r\n  renderDelay = () => {\r\n    clearInterval(this.render_delay);\r\n    if (this.state.enabled) this.props.procData(this.joystick_msg);\r\n    if (this.state.revision !== this.data_revision) this.setState({ revision: this.data_revision });\r\n    this.render_delay = setInterval(this.renderDelay, 1000 / this.state.rateHz);\r\n  };\r\n\r\n  resetMessage = () => {\r\n    this.joystick_msg.testJoystick.enabled = this.state.enabled;\r\n    if (this.state.enabled) return;\r\n    this.props.procData(this.joystick_msg);\r\n  }\r\n\r\n  readJoystick = () => {\r\n    const gamepads = navigator.getGamepads();\r\n    Object.values(gamepads).forEach(gamepad => {\r\n      if (!gamepad ||\r\n        gamepad.timestamp === this.last_timestamp ||\r\n        gamepad.id.startsWith(\"Surface\")) return; //\"surface\" - device that is reported but not considered as a gamepad for our purpose!\r\n\r\n      gamepad.axes.forEach((value, index) => {\r\n        let axis = value;\r\n        const deadzone = this.joy_finetune.axes_deadzone[index];\r\n        const scale_neg = this.joy_finetune.axes_scale[index][0];\r\n        const scale_pos = this.joy_finetune.axes_scale[index][1];\r\n        if (-deadzone < axis && axis < deadzone) axis = 0;\r\n        if (axis < 0) axis *= scale_neg;\r\n        else axis *= scale_pos;\r\n        this.joystick_msg.testJoystick.axes[index] = axis;\r\n      })\r\n\r\n      const buttons = [];\r\n      Object.values(gamepad.buttons).forEach(button => {\r\n        buttons.push(button.pressed);\r\n      });\r\n      this.joystick_msg.testJoystick.buttons = buttons;\r\n      this.data_revision += 1;\r\n      this.last_timestamp = gamepad.timestamp;\r\n    })\r\n  }\r\n\r\n  returnNormalized = (joy_index, data) => {\r\n    if (data === 0) {\r\n      this.joystick_msg.testJoystick.axes[joy_index] = 0;\r\n      this.joystick_msg.testJoystick.axes[joy_index + 1] = 0;\r\n      this.data_revision += 1;\r\n      return;\r\n    }\r\n    const size_scale = data.instance.options.size / 2;\r\n    let axis_x = (data.position.x - data.instance.position.x) / size_scale * !data.lockX;\r\n    let axis_y = (data.position.y - data.instance.position.y) / size_scale * !data.lockY;\r\n    const axes_scale = this.joy_finetune.axes_scale;\r\n    if (axis_x < 0) axis_x *= axes_scale[joy_index][0];\r\n    else axis_x *= axes_scale[joy_index][1];\r\n    if (axis_y < 0) axis_y *= axes_scale[joy_index + 1][0];\r\n    else axis_y *= axes_scale[joy_index + 1][1];\r\n    this.joystick_msg.testJoystick.axes[joy_index] = axis_x;\r\n    this.joystick_msg.testJoystick.axes[joy_index + 1] = axis_y;\r\n    this.data_revision += 1;\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering Joystick\");\r\n    const { classes } = this.props;\r\n    return (\r\n      <Fragment>\r\n\r\n        <Grid\r\n          className={classes.joystick}\r\n          container\r\n          spacing={0}\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid item xs={6} align=\"center\">\r\n            X:{this.joystick_msg.testJoystick.axes[0].toFixed(3)}/Y:{this.joystick_msg.testJoystick.axes[1].toFixed(3)}\r\n            <div>\r\n              <ReactNipple\r\n                options={{ mode: 'dynamic', position: { top: '50%', left: '50%' }, color: 'red', size: 200, dynamicPage: true, lockY: false, restJoystick: this.state.restJoystick_0, threshold: 0.06 }}\r\n                style={{\r\n                  outline: '1px dashed grey',\r\n                  //width: 250,\r\n                  height: '75vh',\r\n                  position: 'relative'\r\n                }}\r\n                onMove={(evt, data) => this.returnNormalized(0, data)}\r\n                onEnd={() => { if (this.state.restJoystick_0) this.returnNormalized(0, 0) }} // Reseting to 0 on joystick rest (only when restJoystick: true)\r\n              />\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={6} align=\"center\">\r\n            X:{this.joystick_msg.testJoystick.axes[2].toFixed(3)}/Y:{this.joystick_msg.testJoystick.axes[3].toFixed(3)}\r\n            <div>\r\n              <ReactNipple\r\n                options={{ mode: 'dynamic', position: { top: '50%', left: '50%' }, color: 'red', size: 200, dynamicPage: true, lockX: false, restJoystick: this.state.restJoystick_1, threshold: 0.06 }}\r\n                style={{\r\n                  outline: '1px dashed grey',\r\n                  //width: 250,\r\n                  height: '75vh',\r\n                  position: 'relative'\r\n                }}\r\n                onMove={(evt, data) => this.returnNormalized(2, data)}\r\n                onEnd={() => { if (this.state.restJoystick_1) this.returnNormalized(2, 0) }}\r\n              />\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n        <SpeedDial\r\n          ariaLabel=\"SpeedDial tooltip example\"\r\n          className={classes.speedDial}\r\n          icon={<SpeedDialIcon />}\r\n          FabProps={{ size: 'small', color: \"secondary\" }}\r\n          onClick={() => this.setState({ speeddial: !this.state.speeddial })}\r\n          open={this.state.speeddial}\r\n        >\r\n          <SpeedDialAction\r\n            icon={this.state.enabled ? <SyncDisabledIcon /> : <SyncIcon />}\r\n            tooltipTitle={this.state.enabled ? 'Disable' : 'Enable'}\r\n            tooltipOpen\r\n            onClick={() => this.setState({ enabled: !this.state.enabled }, this.resetMessage)}\r\n          />\r\n        </SpeedDial>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nJoystick.propTypes = {\r\n  classes: propTypes.object.isRequired,\r\n  procData: propTypes.func.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Joystick);","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\n\r\nexport class TabPanel extends Component {\r\n  render() {\r\n    //console.log(\"Rendering TabPanel\");\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={this.props.value !== this.props.index}\r\n        id={`plugin-tabpanel-${this.props.index}`}\r\n        aria-labelledby={`plugin-tab-${this.props.index}`}\r\n        {...this.props}\r\n      >\r\n        {this.props.children}\r\n        {/* {this.props.value === this.props.index && this.props.children} //Disconnects component on div hide  */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: propTypes.node,\r\n  index: propTypes.any.isRequired,\r\n  value: propTypes.any.isRequired,\r\n};","import { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\n\r\nexport class WebSocketHelper extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ws: null\r\n    };\r\n\r\n  }\r\n\r\n  timeout = 250;\r\n\r\n  componentDidMount() {\r\n    this.connect();\r\n    this.keep_alive = setInterval(() => {\r\n      this.sendMessage({ keepAlive: {} });\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.keep_alive);\r\n    this.setState({ ws: null })\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    return nextProps.ws_url !== this.props.ws_url;\r\n  }\r\n\r\n  connect = () => {\r\n    var ws = new WebSocket(this.props.ws_url);\r\n    this.props.status(\"connecting\");\r\n    let that = this; // cache the this\r\n    var connectInterval;\r\n\r\n    ws.onopen = () => {\r\n      this.setState({ ws: ws });\r\n      this.props.status(\"connected\");\r\n      that.timeout = 250;\r\n      clearTimeout(connectInterval);\r\n    };\r\n\r\n    ws.onclose = e => {\r\n      console.log(\r\n        `Socket is closed. Reconnect will be attempted in ${Math.min(\r\n          10000 / 1000,\r\n          (that.timeout * 2) / 1000\r\n        )} second.`,\r\n        e.reason\r\n      );\r\n      this.props.status(\"closed\");\r\n      that.timeout = that.timeout * 2;\r\n      connectInterval = setTimeout(this.checkSocketConnection, Math.min(10000, that.timeout));\r\n    };\r\n\r\n    ws.onerror = err => {\r\n      console.error(\r\n        \"Socket encountered error: \",\r\n        err.message,\r\n        \"Closing socket\"\r\n      );\r\n\r\n      this.props.status(\"error\");\r\n      ws.close();\r\n    };\r\n\r\n    ws.onmessage = event => {\r\n      this.props.messageProcess(JSON.parse(event.data));\r\n    };\r\n\r\n  }\r\n\r\n  sendMessage = (msg) => {\r\n    const { ws } = this.state;\r\n    if (ws && ws.readyState !== WebSocket.CLOSED) ws.send(JSON.stringify(msg));\r\n  }\r\n\r\n  checkSocketConnection = () => {\r\n    const { ws } = this.state;\r\n    if (!ws || ws.readyState === WebSocket.CLOSED) this.connect(this.props.ws_url);\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering WebSocketHelper\");\r\n    return null;\r\n  }\r\n}\r\n\r\nWebSocketHelper.propTypes = {\r\n  ws_url: propTypes.string.isRequired,\r\n  status: propTypes.func.isRequired,\r\n  messageProcess: propTypes.func.isRequired,\r\n}","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  InputAdornment,\r\n  FormControl,\r\n  Input,\r\n  InputLabel,\r\n  FormHelperText,\r\n  Grid,\r\n  FormControlLabel,\r\n  Switch,\r\n} from '@material-ui/core';\r\n\r\n\r\nexport class MainSettings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ws_url: 'ws://',\r\n      rateHz: 20,\r\n      dark_theme: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() { //Unsafe! Need to get rid of!\r\n    this.setState({\r\n      ws_url: this.props.ws_url,\r\n      rateHz: this.props.rateHz,\r\n      dark_theme: this.props.dark_theme,\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) { // Limits re-render\r\n    if (nextProps.show !== this.props.show || nextState !== this.state) return true;\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"Rendering MainSettings\");\r\n    return (\r\n      <Dialog\r\n        open={this.props.show}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Main settings</DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} direction=\"column\" alignItems=\"flex-start\">\r\n            <Grid item>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"ws_url\">WebSocket URL</InputLabel>\r\n                <Input\r\n                  id=\"ws_url\"\r\n                  value={this.state.ws_url}\r\n                  onChange={event => this.setState({ ws_url: event.target.value })}\r\n                  aria-describedby=\"ws_url-helper-text\"\r\n                  inputProps={{\r\n                    'aria-label': 'WebSocket URL',\r\n                  }}\r\n                />\r\n                <FormHelperText id=\"ws_url-helper-text\">Tethered WiFi ws://192.168.43.1:8989</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"rateHz\">Render rate</InputLabel>\r\n                <Input\r\n                  id=\"rateHz\"\r\n                  value={this.state.rateHz}\r\n                  onChange={event => this.setState({ rateHz: Math.min(Math.max(parseInt(event.target.value), 0.5), 20) })}\r\n                  endAdornment={<InputAdornment position=\"end\">Hz</InputAdornment>}\r\n                  aria-describedby=\"rateHz-helper-text\"\r\n                  inputProps={{\r\n                    'aria-label': 'Render rate',\r\n                  }}\r\n                />\r\n                <FormHelperText id=\"rateHz-helper-text\">Min: 0.5, Max: 20</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item>\r\n              <FormControlLabel\r\n                control={<Switch disabled checked={this.state.dark_theme} onChange={() => this.setState({ dark_theme: !this.state.dark_theme })} name=\"dark_theme\" />}\r\n                label=\"Dark theme\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => this.props.setSettings(this.state.ws_url, this.state.rateHz, this.state.dark_theme)} color=\"primary\">\r\n            Save\r\n        </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nMainSettings.propTypes = {\r\n  show: propTypes.bool.isRequired,\r\n  ws_url: propTypes.string.isRequired,\r\n  rateHz: propTypes.number.isRequired,\r\n  dark_theme: propTypes.bool,\r\n  setSettings: propTypes.func.isRequired,\r\n}","import React, { Component, Fragment } from 'react';\nimport propTypes from 'prop-types';\n\nimport GraphDashboard from './Graphs/GraphDashboard';\nimport Joystick from './Joystick/Joystick';\nimport { TabPanel } from './TabPanel';\nimport { WebSocketHelper } from './helpers/WebSocketHelper';\nimport { MainSettings } from './MainSettings';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Toolbar,\n  Tabs,\n  Tab,\n  Badge,\n  Box\n} from '@material-ui/core';\n\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport IconButton from '@material-ui/core/IconButton';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport SignalWifi0BarIcon from '@material-ui/icons/SignalWifi0Bar';\nimport SignalWifi4BarIcon from '@material-ui/icons/SignalWifi4Bar';\nimport SignalWifiOffIcon from '@material-ui/icons/SignalWifiOff';\n\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\n\nconst styles = {\n  iconSpaced: {\n    padding: '0 40px 0 0',\n  },\n  mainTabs: {\n    flexGrow: 1,\n  },\n};\n\nconst theme = createMuiTheme ({\n  palette:{\n     type: \"light\",\n  },\n  typography: {\n    \"fontFamily\": `\"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n    \"fontSize\": 14,\n    \"fontWeightLight\": 300,\n    \"fontWeightRegular\": 400,\n    \"fontWeightMedium\": 500\n   }\n});\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTab: 1,\n      show_mainsettings: false,\n      ws_url: 'ws://192.168.43.1:8989',\n      rateHz: 20,\n      render_revision: 0,\n    };\n    this.wshelper = React.createRef();\n    this.pushgraphdata = React.createRef();\n  }\n\n  ws_status = '';\n  sent_count = 0;\n  received_count = 0;\n\n  componentDidMount() {\n    this.render_delay = setInterval(this.renderDelay, 1000 / this.state.rateHz);\n  }\n\n  shouldComponentUpdate(prevProps, prevState) {\n    return prevState.render_revision !== this.state.render_revision;\n  }\n\n  renderDelay = () => {\n    clearInterval(this.render_delay);\n    this.setState({ render_revision: this.state.render_revision + 1 });\n    this.render_delay = setInterval(this.renderDelay, 1000 / this.state.rateHz)\n  }\n\n  messageProcess = msg_recv => { // Received messages must be pushed to child component for better performance\n    if (this.received_count > 9999) this.received_count = 0;\n    this.received_count += 1;\n    if (this.pushgraphdata.current) this.pushgraphdata.current.messageProcess(msg_recv);\n  }\n\n  sendWSmsg = msg => {\n    if (this.sent_count > 9999) this.sent_count = 0;\n    this.sent_count += 1;\n    this.wshelper.current.sendMessage(msg);\n  };\n\n  connectionStatus = () => {\n    if (this.ws_status === \"connected\") return <SignalWifi4BarIcon />;\n    else if (this.ws_status === \"connecting\") return <SignalWifi0BarIcon />;\n    else return <SignalWifiOffIcon />;\n  }\n\n  a11yProps = index => {\n    return {\n      id: `plugin-tab-${index}`,\n      'aria-controls': `plugin-tabpanel-${index}`,\n    };\n  }\n\n  render() {\n    //console.log(\"Rendering App\");\n    const { classes } = this.props;\n    return (\n      <Fragment>\n        <ThemeProvider theme = {theme}>\n        <WebSocketHelper\n          ws_url={this.state.ws_url}\n          messageProcess={this.messageProcess}\n          ref={this.wshelper}\n          status={status => this.ws_status = status}\n        />\n        <AppBar position=\"sticky\" color=\"inherit\">\n          <Toolbar>\n            <Tabs\n              className={classes.mainTabs}\n              value={this.state.selectedTab}\n              onChange={(event, newValue) => this.setState({ selectedTab: newValue })}\n              indicatorColor=\"secondary\"\n              textColor=\"primary\"\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              aria-label=\"Plugins tabs\"\n            >\n              <Tab label=\"Dashboard\" disabled {...this.a11yProps(0)} />\n              <Tab label=\"Graphs\" {...this.a11yProps(1)} />\n              <Tab label=\"Joystick\" {...this.a11yProps(2)} />\n              <Tab label=\"OP Edit\" disabled {...this.a11yProps(3)} />\n              <Tab label=\"CAN BUS\" disabled {...this.a11yProps(4)} />\n            </Tabs>\n            <Box className={classes.iconSpaced}>\n              <Badge anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n                badgeContent={this.received_count}\n                color=\"secondary\"\n                showZero max={9999}\n              >\n                <ArrowDownwardIcon color=\"inherit\"/>\n              </Badge>\n            </Box>\n            <Box className={classes.iconSpaced}>\n              <Badge anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n                badgeContent={this.sent_count}\n                color=\"secondary\"\n                showZero max={9999}\n              >\n                <ArrowUpwardIcon color=\"inherit\"/>\n              </Badge>\n            </Box>\n            {this.connectionStatus()}\n            <IconButton onClick={() => { this.setState({ show_mainsettings: true }) }} aria-label=\"WebSocket connection status\" component=\"span\" color=\"inherit\">\n              <SettingsIcon />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n\n        <TabPanel value={this.state.selectedTab} index={0}>\n          Dashboard will be here\n      </TabPanel>\n        <TabPanel value={this.state.selectedTab} index={1}>\n          <GraphDashboard ref={this.pushgraphdata} />\n        </TabPanel>\n        <TabPanel value={this.state.selectedTab} index={2}>\n          <Joystick procData={data => this.sendWSmsg(data)} />\n        </TabPanel>\n        <TabPanel value={this.state.selectedTab} index={3}>\n          OP_Edit will be here\n      </TabPanel>\n        <TabPanel value={this.state.selectedTab} index={4}>\n          CAN messages will be here\n      </TabPanel>\n      {this.state.show_mainsettings ? (\n          <MainSettings\n            setSettings={(ws_url, rate) => this.setState({ show_mainsettings: false, ws_url: ws_url, rateHz: rate })}\n            show={this.state.show_mainsettings}\n            ws_url={this.state.ws_url}\n            rateHz={this.state.rateHz}\n          />\n        ) : (null)}\n      </ThemeProvider>\n      </Fragment>\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: propTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}